#### Performance

​	在浏览器运行过程中，会产生一系列的任务队列，通过事件循环的方式完成界面的渲染和事件执行，在这个过程中我们可以通过使用Performance查看浏览器的运行情况。

---

#### 使用步骤

1. 打开浏览器调试台，找到performance项

2. 开启录制，执行页面的渲染或是用户操作

3. 停止录制

   ---

   **以下是录制后的反馈结果**

![](F:\MyNote\笔记图片\浏览器performance使用概览.png)

---

#### 饼图展示的各类参数

**Loading**

通常指的是页面加载过程中网络请求所花费的时间。这包括了从开始发起网络请求到接收响应并加载资源的整个过程。

具体而言，"Loading" 部分可能包括以下内容：

1. DNS 解析：将域名解析为对应的 IP 地址。
2. 建立连接：与服务器建立网络连接。
3. 发送请求：发送 HTTP 请求到服务器。
4. 接收响应：服务器响应请求，返回资源数据。
5. 下载资源：接收和加载服务器返回的资源，如 HTML、CSS、JavaScript 文件、图像等。

通过查看 "Loading" 部分的时间分布，开发者可以了解页面加载过程中各个网络请求的耗时情况，包括了每个请求的 DNS 解析、连接建立、数据传输等时间。这有助于开发者优化页面加载速度，减少网络请求的数量和大小，提升用户体验。



**Scripting**

通常指的是与 JavaScript 相关的执行时间。这部分时间代表了浏览器在执行 JavaScript 代码时所花费的时间。

具体而言，"Scripting" 部分包括以下内容：

1. JavaScript 解析和编译：将 JavaScript 代码解析为抽象语法树，并进行编译。
2. 执行 JavaScript 代码：执行 JavaScript 代码，包括函数调用、DOM 操作、事件处理等。

"Scripting" 的时间消耗与页面上 JavaScript 代码的数量、复杂度以及执行频率有关。较多、复杂的 JavaScript 代码可能会导致较长的脚本执行时间。

通过查看 "Scripting" 部分的时间分布，开发者可以了解页面中 JavaScript 代码执行的性能表现，找到可能存在的性能瓶颈，如长时间的 JavaScript 执行或频繁的重绘操作，从而进行性能优化，提高页面的响应速度和用户体验。



**Rendering**:

通常指的是与页面渲染相关的时间，包括了处理 CSS 样式计算、布局计算、绘制和合成等操作所花费的时间。这部分时间主要涉及浏览器对页面进行排版和绘制的过程。

具体而言，"Rendering" 部分可能包括以下内容：

1. CSS 样式计算：浏览器根据文档对象模型（DOM）和层叠样式表（CSS）来计算每个元素最终的样式信息。
2. 布局计算（Layout）：根据元素的大小、位置和样式等信息进行页面布局的计算。
3. 绘制（Painting）：将页面上的元素转换为实际的像素信息，准备进行显示。
4. 合成（Compositing）：将各个图层进行合成，生成最终的页面显示效果。

通过查看 "Rendering" 部分的时间分布，开发者可以了解页面渲染过程中各个阶段的性能表现，从而找到可能存在的性能瓶颈，并针对性地进行优化。



**Painting**

通常指的是页面绘制的过程。这部分时间代表浏览器将像素信息绘制到屏幕上的操作。

具体而言，"Painting" 部分包括以下内容：

1. 绘制树（Paint Tree）：根据 DOM 树和 CSS 样式计算结果，构建用于绘制的绘制树。
2. 光栅化（Rasterization）：将绘制树转换成位图，以供显示设备渲染。
3. 显示列表构建（Display List Construction）：创建显示列表，其中包含需要绘制的元素和绘制顺序。
4. 绘制（Painting）：根据显示列表中的信息，将页面元素绘制到屏幕上。

"Painting" 的时间消耗与页面上的可见元素数量和复杂度有关。较大、复杂的页面可能会需要更长的绘制时间。

通过查看 "Painting" 部分的时间分布，开发者可以了解页面绘制的性能表现，找到可能存在的瓶颈，如过多的绘制操作或复杂的 CSS 样式，从而进行性能优化，提高页面的渲染速度和用户体验。



**System**

浏览器内部的系统级操作所花费的时间。这些系统级操作可能包括浏览器的渲染、布局计算、网络请求等与浏览器内核相关的任务。

具体而言，"system" 包括了浏览器本身执行的一些操作，例如处理网络请求、执行 JavaScript 引擎等。这些操作通常是由浏览器内部进行管理和执行的，不直接由网页开发者编写的代码所触发。

在性能分析中，"system" 的运行时间可以帮助开发者更好地理解浏览器在处理网页加载和交互过程中所花费的时间，从而有针对性地进行性能优化和调整。



**Idle**

代表页面的空闲时间，即浏览器未执行任何任务或处理事件的时间段。这段时间内，浏览器处于空闲状态，并且没有需要立即处理的任务。

在性能分析中，"Idle" 部分通常表示页面的空闲时间，即浏览器没有在执行脚本、渲染页面或处理用户交互等任务。这个时间段可以被视为系统资源空闲的时间，可以用来执行一些后台任务或进行一些优化操作，以提升整体性能和用户体验。

开发者可以通过分析 "Idle" 部分的时间长度和分布情况，了解页面在不同阶段的空闲时间，从而更好地调整任务执行时机，提高页面的响应速度和性能表现。利用空闲时间执行一些延迟执行的任务或优化操作，可以更有效地利用系统资源，提升页面的整体性能。

---

#### 顶部红色出现的原因

1. 高 CPU 使用率：红色标记可能表示某个时间段内 CPU 使用率过高，表明代码执行过程中消耗了大量的 CPU 资源。可能是由于复杂的计算、循环或无限循环等引起的。
2. 长时间的任务执行：红色区域可能表示某个时间段内存在长时间运行的任务或操作，这可能是导致整体性能下降的原因之一。
3. 阻塞操作或网络请求：红色标记可能表示某个时间段内有阻塞操作或网络请求耗时较长，导致页面响应变慢或卡顿。
4. 内存相关问题：红色区域可能与内存泄漏、频繁的垃圾回收等内存相关问题有关。

​    要进一步确定红色区域的具体原因，可能需要查看性能调试工具提供的详细信息，如堆栈跟踪、函数执行时间等。通过分析这些数据，可以找到性能问题的源头，并采取相应的优化措施，改善应用程序的性能。